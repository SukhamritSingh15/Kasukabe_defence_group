<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SmartReco — Basic Product Recommendation System</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
<style>
/* ========== RESET / BASE ========== */
*{box-sizing:border-box;margin:0;padding:0}
:root{
    --bg:#0b0b0c; --bg-2:#111215; --card:#16171b; --muted:#a0a3aa; --text:#fff;
    --brand:#5b8cff; --brand-2:#7af; --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35)
}
html,body{height:100%}
body{
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:var(--bg); color:var(--text); line-height:1.6; overflow-x:hidden; scroll-behavior:smooth
}

/* ========== NAVBAR ========== */
header{
    position:fixed; inset:0 0 auto 0; height:64px;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 28px; z-index:1000;
    background:rgba(11,11,12,.65); backdrop-filter:saturate(140%) blur(10px);
    border-bottom:1px solid rgba(255,255,255,.06)
}
.brand{font-weight:800; letter-spacing:.2px}
nav a{
    color:#e9ebf0; text-decoration:none; margin-left:22px; font-weight:500; font-size:14.5px;
    opacity:.95; transition:.2s
}
nav a:hover{opacity:1; color:#fff}

/* ========== SECTIONS / LAYOUT ========== */
section{min-height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column; padding:96px 24px 64px}
.container{width:min(1200px,92vw); margin:0 auto}
.title{font-size:56px; line-height:1.05; letter-spacing:-.02em; text-align:center; margin-bottom:14px}
.subtitle{color:var(--muted); font-size:18px; text-align:center; max-width:800px; margin:0 auto 24px}

/* ========== HERO ========== */
.hero{
    position:relative; color:#fff; padding-top:64px
}
.hero::before{
    content:""; position:absolute; inset:0;
    background:url('https://images.unsplash.com/photo-1557825835-70d97c4aa95e?auto=format&fit=crop&w=1800&q=80') center/cover no-repeat;
    filter:brightness(.45); z-index:-2
}
.hero::after{
    content:""; position:absolute; inset:0; background:linear-gradient(to bottom, rgba(11,11,12,.2), rgba(11,11,12,.75));
    z-index:-1
}
.hero h1{font-size:64px; letter-spacing:-.035em; text-align:center}
.hero p{font-size:20px; color:#e5e7ee; margin-top:14px; text-align:center}
.hero-cta{margin-top:28px; display:flex; gap:14px; justify-content:center; flex-wrap:wrap}
.btn{
    appearance:none; border:0; border-radius:999px; padding:12px 20px;
    font-weight:600; cursor:pointer; transition:.25s; font-size:14.5px
}
.btn-primary{background:var(--brand); color:#fff; box-shadow:0 8px 20px rgba(91,140,255,.35)}
.btn-primary:hover{transform:translateY(-1px); box-shadow:0 12px 22px rgba(91,140,255,.45)}
.btn-ghost{background:transparent; color:#fff; border:1px solid rgba(255,255,255,.25)}
.btn-ghost:hover{border-color:#fff; transform:translateY(-1px)}

/* ========== HOW IT WORKS ========== */
.grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:30px}
.card{
    background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius); padding:22px; box-shadow:var(--shadow)
}
.card h3{font-size:20px; margin-bottom:6px}
.card p{color:var(--muted); font-size:14.5px}

/* ========== PREFERENCES FORM ========== */
.prefs{display:grid; grid-template-columns:1.2fr .8fr; gap:22px; margin-top:22px}
.panel{background:var(--bg-2); border:1px solid rgba(255,255,255,.07); border-radius:var(--radius); padding:20px}
.panel h4{margin-bottom:8px}
.tags{display:flex; flex-wrap:wrap; gap:10px; margin-top:8px}
.tag{
    padding:8px 12px; border:1px solid rgba(255,255,255,.18); border-radius:999px;
    font-size:13px; cursor:pointer; opacity:.9
}
.tag.active{background:var(--brand-2); color:#02030a; border-color:transparent; font-weight:700}
.muted{color:var(--muted); font-size:13px}

/* ========== PRODUCTS / RECS ========== */
.products, .recs{display:grid; grid-template-columns:repeat(4,1fr); gap:18px}
.prod{
    background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:18px; overflow:hidden; box-shadow:var(--shadow); display:flex; flex-direction:column
}
.prod img{width:100%; height:180px; object-fit:cover}
.prod .info{padding:14px 14px 12px}
.prod .name{font-weight:600}
.meta{color:var(--muted); font-size:12.5px; margin-top:2px}
.actions{display:flex; justify-content:space-between; align-items:center; padding:12px 14px 16px}
.like{cursor:pointer; user-select:none; font-size:13.5px; opacity:.9}
.like.liked{color:#ff7aa2; opacity:1; font-weight:700}
.pill{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.16)}

/* ========== TEAM / FEEDBACK / FOOTER ========== */
.team{display:grid; grid-template-columns:repeat(3,1fr); gap:18px; margin-top:20px}
.member{background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius); padding:18px; text-align:center}
.member img{width:86px; height:86px; object-fit:cover; border-radius:50%; margin-bottom:10px}


/* ========== RESPONSIVE ========== */
@media (max-width:1100px){
    .products, .recs{grid-template-columns:repeat(3,1fr)}
    .grid-3{grid-template-columns:1fr}
    .prefs{grid-template-columns:1fr}
}
@media (max-width:720px){
    .hero h1{font-size:44px}
    .title{font-size:40px}
    .products, .recs{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:520px){
    .products, .recs{grid-template-columns:1fr}
}
</style>
</head>
<body>

<header class="container">
<div class="brand">SmartReco</div>
<nav>
    <a href="#about">About</a>
    <a href="#how">How it works</a>
    <a href="#prefs">Preferences</a>
    <a href="#catalog">Catalog</a>
    <a href="#recs">Recommendations</a>
    <a href="#team">Team</a>
    <a href="#feedback">Feedback</a>
</nav>
</header>

<!-- HERO -->
<section class="hero" id="hero">
<div class="container">
    <h1>Quality Recommendations You Can Trust</h1>
    <p>Suggesting products based on your preferences, browsing history, and people like you — to boost engagement and sales.</p>
    <div class="hero-cta">
    <a class="btn btn-primary" href="#prefs">Set Preferences</a>
    <a class="btn btn-ghost" href="#catalog">Browse Catalog</a>
    </div>
</div>
</section>

<!-- ABOUT -->
<section id="about" class="reveal">
<div class="container">
    <h2 class="title">About the System</h2>
    <p class="subtitle">A lightweight web app that demonstrates three classic recommendation strategies: preference-based (content), history-based (content), and user–user collaborative filtering. No backend required — everything runs locally in your browser.</p>
</div>
</section>

<!-- HOW IT WORKS -->
<section id="how" class="reveal">
<div class="container">
    <h2 class="title">How it Works</h2>
    <div class="grid-3">
    <div class="card">
        <h3>1) Preferences</h3>
        <p>Tell us what you like (categories & tags). We score products that match those interests.</p>
    </div>
    <div class="card">
        <h3>2) History</h3>
        <p>Your views & likes are stored locally. We find products with similar tags to what you interacted with.</p>
    </div>
    <div class="card">
        <h3>3) Similar Users</h3>
        <p>We compare your likes to sample users using Jaccard similarity and surface items they loved.</p>
    </div>
    </div>
</div>
</section>

<!-- PREFERENCES -->
<section id="prefs" class="reveal">
<div class="container">
    <h2 class="title">Set Your Preferences</h2>
    <p class="subtitle">Tap tags to toggle. Your choices are saved in your browser.</p>

    <div class="prefs">
    <div class="panel">
        <h4>Categories</h4>
        <div id="catTags" class="tags"></div>
        <p class="muted">Tip: pick 2–5 categories for best results.</p>
    </div>

    <div class="panel">
        <h4>Popular Tags</h4>
        <div id="tagTags" class="tags"></div>
        <div style="margin-top:14px; display:flex; gap:10px;">
        <button id="savePrefs" class="btn btn-primary">Save Preferences</button>
        <button id="clearPrefs" class="btn btn-ghost">Clear</button>
        </div>
    </div>
    </div>
</div>
</section>

<!-- CATALOG -->
<section id="catalog" class="reveal">
<div class="container">
    <h2 class="title">Product Catalog</h2>
    <p class="subtitle">Browse and click ❤️ to like. Viewing & liking improves your recommendations.</p>
    <div id="productGrid" class="products" style="margin-top:22px;"></div>
</div>
</section>

<!-- RECOMMENDATIONS -->
<section id="recs" class="reveal">
<div class="container">
    <h2 class="title">Recommended For You</h2>
    <p class="subtitle">Blended score = Preferences + History similarity + Similar users + Popularity fallback.</p>
    <div style="display:flex; gap:10px; justify-content:center; margin-bottom:16px">
    <button id="genRecs" class="btn btn-primary">Generate Recommendations</button>
    <span class="pill" id="whyCount">0 signals used</span>
    </div>
    <div id="recGrid" class="recs"></div>
</div>
</section>

<!-- TEAM -->
<section id="team" class="reveal">
<div class="container">
    <h2 class="title">Team</h2>
    <div class="team">
    <div class="member">
        <img src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=300&q=80" alt="">
        <div><strong>Sukhamrit Singh</strong></div>
    </div>
    <div class="member">
        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=300&q=80" alt="">
        <div><strong>Kunal Sood</strong></div>
    </div>
    <div class="member">
        <img src="https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?auto=format&fit=crop&w=300&q=80" alt="">
        <div><strong>Sidharth</strong></div>
    </div>
    </div>
</div>
</section>

<!-- FEEDBACK -->

<script>
    const PRODUCTS = [
{id:1, name:"Noise-Cancelling Headphones", category:"Audio", price:129, tags:["wireless","bluetooth","noise-cancelling","over-ear"], img:"https://images.unsplash.com/photo-1518443952244-73e5b9b8a5c1?auto=format&fit=crop&w=1000&q=80"},
{id:2, name:"Smartwatch Pro", category:"Wearables", price:179, tags:["fitness","notifications","gps","waterproof"], img:"https://images.unsplash.com/photo-1516117172878-fd2c41f4a759?auto=format&fit=crop&w=1000&q=80"},
{id:3, name:"Mirrorless Camera X", category:"Cameras", price:799, tags:["dslr","4k","mirrorless","pro"], img:"https://images.unsplash.com/photo-1519183071298-a2962be90b8e?auto=format&fit=crop&w=1000&q=80"},
{id:4, name:"Gaming Laptop 15", category:"Computers", price:1099, tags:["gaming","laptop","rgb","performance"], img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1000&q=80"},
{id:5, name:"Smart Speaker Mini", category:"Home", price:59, tags:["smart-home","voice","assistant","music"], img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?auto=format&fit=crop&w=1000&q=80"},
{id:6, name:"Action Cam 4K", category:"Cameras", price:249, tags:["4k","action","waterproof","wide-angle"], img:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&w=1000&q=80"},
{id:7, name:"Wireless Earbuds S", category:"Audio", price:89, tags:["wireless","bluetooth","compact","charging-case"], img:"https://images.unsplash.com/photo-1516738901171-8eb4fc13bd20?auto=format&fit=crop&w=1000&q=80"},
{id:8, name:"Fitness Tracker Band", category:"Wearables", price:49, tags:["fitness","sleep","steps","heart-rate"], img:"https://images.unsplash.com/photo-1519340241574-2cec6aef0c01?auto=format&fit=crop&w=1000&q=80"},
{id:9, name:"4K Smart TV 55\"", category:"Home", price:599, tags:["4k","tv","hdr","smart-tv"], img:"https://images.unsplash.com/photo-1583225272831-5c0d6f3d106e?auto=format&fit=crop&w=1000&q=80"},
{id:10, name:"Ultrabook Air 13", category:"Computers", price:999, tags:["lightweight","portable","battery","work"], img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1000&q=80"},
{id:11, name:"DSLR Prime Lens 50mm", category:"Cameras", price:149, tags:["lens","bokeh","prime","portrait"], img:"https://images.unsplash.com/photo-1499084732479-de2c02d45fc4?auto=format&fit=crop&w=1000&q=80"},
{id:12, name:"Smart Light Bulb", category:"Home", price:19, tags:["smart-home","rgb","automation","wifi"], img:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=1000&q=80"},
{id:13, name:"Mechanical Keyboard", category:"Computers", price:129, tags:["keyboard","mechanical","rgb","gaming"], img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1000&q=80"},
{id:14, name:"Noise-Free Ear Muffs", category:"Audio", price:39, tags:["accessory","comfort","noise-reduction"], img:"https://images.unsplash.com/photo-1516834474-48b8d5b8c5e0?auto=format&fit=crop&w=1000&q=80"},
{id:15, name:"Smart Thermostat", category:"Home", price:129, tags:["smart-home","temperature","automation","energy"], img:"https://images.unsplash.com/photo-1567016543032-29bda0c31f6d?auto=format&fit=crop&w=1000&q=80"}
];

const SAMPLE_USERS = [
{liked:[1,2,5,7]}, {liked:[3,4,6,10]}, {liked:[2,5,8,9]}, {liked:[1,3,5,7,9]}
];

// ------------------------------------------
// INIT
// ------------------------------------------
document.addEventListener("DOMContentLoaded", ()=>{
    const catTags=document.getElementById("catTags");
    const tagTags=document.getElementById("tagTags");
    const productGrid=document.getElementById("productGrid");
    const recGrid=document.getElementById("recGrid");
    const savePrefs=document.getElementById("savePrefs");
    const clearPrefs=document.getElementById("clearPrefs");
    const genRecs=document.getElementById("genRecs");
    const whyCount=document.getElementById("whyCount");

    let prefs=JSON.parse(localStorage.getItem("prefs")||"{}");
    let liked=JSON.parse(localStorage.getItem("liked")||"[]");

    // --- Populate categories ---
    const categories=[...new Set(PRODUCTS.map(p=>p.category))];
    categories.forEach(cat=>{
        const btn=document.createElement("div");
        btn.className="tag "+(prefs.categories?.includes(cat)?"active":"");
        btn.textContent=cat;
        btn.onclick=()=>{btn.classList.toggle("active")};
        catTags.appendChild(btn);
    });

    // --- Popular tags ---
    const allTags=[...new Set(PRODUCTS.flatMap(p=>p.tags))];
    allTags.forEach(t=>{
        const btn=document.createElement("div");
        btn.className="tag "+(prefs.tags?.includes(t)?"active":"");
        btn.textContent=t;
        btn.onclick=()=>{btn.classList.toggle("active")};
        tagTags.appendChild(btn);
    });

    // --- Product catalog render ---
    function renderCatalog(){
        productGrid.innerHTML="";
        PRODUCTS.forEach(p=>{
            const div=document.createElement("div"); div.className="prod";
            div.innerHTML=`<img src="${p.img}"><div class="info"><div class="name">${p.name}</div><div class="meta">$${p.price}</div></div>
            <div class="actions"><div class="like ${liked.includes(p.id)?"liked":""}" data-id="${p.id}">❤️ Like</div></div>`;
            productGrid.appendChild(div);
        });
        // like buttons
        document.querySelectorAll(".like").forEach(el=>{
            el.onclick=()=>{
                const id=parseInt(el.dataset.id);
                if(liked.includes(id)){liked=liked.filter(x=>x!==id)}else{liked.push(id)}
                localStorage.setItem("liked",JSON.stringify(liked));
                renderCatalog();
            }
        });
    }
    renderCatalog();

    // --- Save / clear prefs ---
    savePrefs.onclick=()=>{
        prefs={categories:[...catTags.querySelectorAll(".active")].map(x=>x.textContent), tags:[...tagTags.querySelectorAll(".active")].map(x=>x.textContent)};
        localStorage.setItem("prefs",JSON.stringify(prefs));
        alert("Preferences saved!");
    }
    clearPrefs.onclick=()=>{localStorage.removeItem("prefs"); prefs={}; catTags.querySelectorAll(".tag").forEach(x=>x.classList.remove("active")); tagTags.querySelectorAll(".tag").forEach(x=>x.classList.remove("active"))};

    // --- Generate recommendations ---
    genRecs.onclick=()=>{
        const scored=PRODUCTS.map(p=>{
            let score=0, count=0;
            // prefs
            if(prefs.categories?.includes(p.category)) {score+=3; count++;}
            if(prefs.tags?.some(t=>p.tags.includes(t))) {score+=2; count++;}
            // history
            if(liked.some(id=>PRODUCTS.find(prod=>prod.id===id)?.tags.some(t=>p.tags.includes(t)))) {score+=2; count++;}
            // similar users
            let maxSim=0; SAMPLE_USERS.forEach(u=>{const sim=intersection(u.liked,liked).length / union(u.liked,liked).length; if(sim>maxSim) maxSim=sim});
            if(maxSim>0) {score+=2*maxSim; count++;}
            return {...p, score, signals:count};
        });
        scored.sort((a,b)=>b.score-a.score);
        recGrid.innerHTML="";
        scored.slice(0,8).forEach(p=>{
            const div=document.createElement("div"); div.className="prod";
            div.innerHTML=`<img src="${p.img}"><div class="info"><div class="name">${p.name}</div><div class="meta">$${p.price}</div></div>`;
            recGrid.appendChild(div);
        });
        whyCount.textContent=scored[0]?.signals+" signals used";
    }

    function intersection(a,b){return a.filter(x=>b.includes(x))}
    function union(a,b){return Array.from(new Set([...a,...b]))}

    // --- scroll reveal ---
    const revealEls=document.querySelectorAll(".reveal");
    function checkReveal(){
        const trigger=window.innerHeight*.85;
        revealEls.forEach(el=>{if(el.getBoundingClientRect().top<trigger){el.classList.add("show")}})
    }
    window.addEventListener("scroll",checkReveal);
    checkReveal();
});
</script>

</body>
</html>
